<!DOCTYPE html>
<html lang=ja dir="ltr">

<head>
  <meta charset="utf-8">
  <title>„Éõ„Éº„É†</title>
  <link rel="stylesheet" href="../../static/css/HomeStyle.css" th:href="@{/css/HomeStyle.css}">
</head>

<body>

  <header>
    <div class="header-container">
      <div class="left-container">
        <a href="/comp">
          <img th:src="${cat_logo_image}" class="header-item" width="90px" height="60px">
        </a>
        <div class="header-item">
          <form th:action="@{/comp/searchcomp}" method="post">
            <input type="search" class="comp_name" name="comp_name" placeholder="Â§ß‰ºö„ÇíÊ§úÁ¥¢">
            <input type="submit" class="form" name="form" value="Ê§úÁ¥¢">
          </form>
          <form>
            <select class="test-number" id="testnumber">
              <option value="0">„Ç≤„Éº„É†„Ç∏„É£„É≥„É´ÈÅ∏Êäû</option>
              <option id="1" value="FPS">FPS</option>
              <option id="2" value="TPS">TPS</option>
              <option id="3" value="Ê†ºÈóò">Ê†ºÈóò</option>
              <option id="4" value="Èü≥Ê•Ω">Èü≥Ê•Ω</option>
              <option id="5" value="MOBA">MOBA</option>
              <option id="6" value="„Çπ„Éù„Éº„ÉÑ">„Çπ„Éù„Éº„ÉÑ</option>
              <option id="7" value="„Éë„Ç∫„É´">„Éë„Ç∫„É´</option>
              <option id="8" value="„É¨„Éº„Çπ">„É¨„Éº„Çπ</option>
              <option id="9" value="DCG">DCG</option>
              <option id="10" value="„Åù„ÅÆ‰ªñ">„Åù„ÅÆ‰ªñ</option>
              <option id="11" value="FPS„ÉªTPS">FPS„ÉªTPS</option>
            </select>
          </form>
          <form id=searchgamecomp name="searchgamecomp" th:action="@{/comp/searchgamecomp}" method="post">
            <select class="input-item game_id" name="game_id" id="game">
              <option value="0">„Ç≤„Éº„É†ÂêçÊ§úÁ¥¢</option>
              <option th:each="game:${gameList}" style="display:none" th:value="${game.game_id} + ',' + ${game.genre}"
                th:text="${game.game_name + '(' + game.hard + ')'}" th:selected="${game.game_id == selectedValue}">
              </option>
            </select>
            <input type="submit"class="form" name="form" value="Ê§úÁ¥¢">
          </form>
        </div>
        <div class="header-item">
          <div class="button-borders">
            <input class="left-main-item" type="button" onclick="location.href='/comp/CreateComp'" value="Â§ß‰ºö„ÇíÈñã„Åè">
          </div>
        </div>

      </div>
      <div class="right-container">
        <a href="/users/profile">
          <img th:src="${cat_icon_image}" class="header-item" width="60px" height="60px">
        </a>
        <div class="header-item-name" th:text="${user_name}">user</div>
      </div>
  </header>

  <main class="main-container">
    <div class="left-main-container">

        

    </div>
    <div class="center-main-container">
      <div class="heading">
        <p>‚ñ†Âèó‰ªò‰∏≠„ÅÆÂ§ß‰ºö</p>
      </div>
      <table>
        <tr th:each="cm : ${comp}">
          <form th:action="@{/comp/Overview}" name="form " method="post">
            <div class="center-main-item linkbox">
              <div class="title-people-container">
                <div class="title" th:text="${cm.comp_name}"></div>
                <img th:src="${people_image}" class="people-logo">
                <div class="people" th:text="${cm.count + '/' + cm.limit_of_participants}"></div>
              </div>
              <div class="game-title" th:text="${'üéÆ„Äê' + cm.gameBean.hard + '„Äë' + cm.gameBean.game_name}"></div>
              <div class="schedule" th:text="${'Êó•Á®ãÔºö' + cm.start_date + '~' + cm.end_date}"></div>
              <input type="hidden" name="comp_id" th:value="${cm.comp_id}" />
              <button type="submit" title="comp_button"></button>
            </div>
          </form>
        </tr>
      </table>
    </div>
    <div class="right-main-container">
      <div class="heading">
        <p>‚ñ†ÂèÇÂä†„Åó„Å¶„ÅÑ„ÇãÂ§ß‰ºö</p>
      </div>
      <div class="right-main-item linkbox" th:each="part : ${participated}">
        <form th:action="@{/comp/Overview}" name="form " method="post">
          <div class="title" th:text="${part.comp_name}"></div>
          <div class="game-title" th:text="${'üéÆ„Äê' + part.gameBean.hard + '„Äë' + part.gameBean.game_name}"></div>
          <div class="nickname" th:text="${'„Éã„ÉÉ„ÇØ„Éç„Éº„É†Ôºö' + part.nickname}"></div>
          <input type="hidden" name="comp_id" th:value="${part.comp_id}" />
          <button type="submit" title="comp_button"></button>
        </form>
      </div>
    </div>
  </main>

  <footer>
    <div id="temp-footer">¬©Competition Assistance Tool</div>
  </footer>

  <script type="text/javascript">
    const genreSelect = document.getElementById('testnumber');
    var gameSelect = document.getElementById('game');
    genreSelect.addEventListener('change', (e) =>{
      e.target.options.selected=true;
      for(let i =0;i<gameSelect.length;i++){
        var str = gameSelect[i].value.split(',');
        if(str[1] != e.target.value){
          gameSelect[i].style.display = "none";
        }
        else{
          gameSelect[i].style.display = "";
        }
      }
    })
  </script>
</body>

</html>